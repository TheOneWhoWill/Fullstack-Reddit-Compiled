{"version":3,"sources":["firebase.js","components/Elements/All.js","contexts/AuthContext.js","components/functions/deleteComment.js","contexts/PromptContext.js","components/Comment.js","components/functions/deletePost.js","components/PostPage.js","components/Post.js","components/Posts.js","components/Elements/CummunityItem.js","components/Elements/SideBar.js","components/FrontPage.js","components/Elements/Login.js","components/Elements/Prompt.js","components/Elements/Profile.js","components/Elements/Register.js","components/SubPage/SubBanner.js","components/SubPage/SubSidebar.js","components/SubPage/SubReddit.js","components/Elements/Create/URLPost.js","components/Elements/Create/ImagePost.js","components/Elements/Create/TextCreate.js","components/Elements/Create/Create.js","components/Elements/CreateSubreddit.js","components/Body.js","components/Elements/Header.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","Cummunity","props","onClick","redirect","icon","faSortUp","src","img","alt","subHandle","members","All","history","useHistory","useState","subs","setSubs","useEffect","axios","get","then","res","data","class","className","map","sub","SubredditPicture","SubredditHandle","push","_id","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","currentUser","setCurrentuser","loading","setLoading","onAuthStateChanged","user","value","resetPassword","email","sendPasswordResetEmail","updateEmail","signup","password","displayName","profile","createUserWithEmailAndPassword","result","updateProfile","photoURL","login","signInWithEmailAndPassword","logout","signOut","Provider","voter","id","a","postReq","delete","code","alert","msg","catch","err","console","log","deletePost","PromptContext","usePrompt","PromptProvider","prompt","setPrompt","setPromptData","setTimeout","Comment","uid","commentID","comment","liked","setLiked","show","setShow","commentData","setCommentData","likeCount","setLikeCount","optionsMenu","setOptionsMenu","voted","likes","setLikes","deleteComment","post","find","like","voteCount","profilePicture","downvotePost","upvotePost","faEllipsisV","deleteCommentHandler","commentText","PostPage","memo","postOption","setPostOption","comments","setComments","postData","setPostData","postID","useParams","commentRef","useRef","e","preventDefault","currentComment","parentPost","current","CurrentOption","imageURL","link","title","href","rel","target","faLink","text","results","undefined","subReddit","copiedURL","window","location","host","navigator","clipboard","writeText","ref","cols","rows","placeholder","commentHandler","Post","sharePost","height","offset","faCommentAlt","faShareAlt","Posts","page","setPage","posts","setPosts","query","sort","changeSort","newSort","prev","type","faPoll","faFire","faCertificate","faSort","CummunityItem","destination","joined","setJoined","joinedSubs","setJoinedSubs","baseUserRequest","cummunity","resonse","userIsJoined","list","joinedUser","fetchUserData","image","to","leaveSub","joinSub","SideBar","getUserData","includes","FrontPage","Login","emailRef","passwordRef","error","setError","onSubmit","faUser","name","faLock","faChevronRight","disabled","Prompt","setEmail","onChange","Profile","promptMenu","setPromptMenu","substring","axiosLink","length","Register","userRef","confirmPasswordRef","faEnvelope","SubBanner","handle","picture","SubSidebar","description","SubReddit","subID","subData","setSubData","fetchSubData","SubredditName","URLPost","titleRef","linkRef","subredditRef","currentPost","ImagePost","uploadRef","uploaded","setUpload","imgURL","setImage","fileRef","setFileRef","filename","uuidv4","storageRef","storage","child","postSuccessful","files","put","getDownloadURL","faCloudUploadAlt","TextCreate","textRef","Create","createOption","setCreateOption","faImage","CreateSubreddit","descriptionRef","currentSub","mod","Body","exact","path","component","Header","width","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e670e6a3.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n})\r\n\r\nexport const auth = app.auth()\r\nexport default app","import axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport React, { useEffect, useState } from'react';\r\nimport { faSortUp } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nfunction Cummunity(props) {\r\n  return (\r\n    <li onClick={props.redirect}>\r\n      <div>\r\n        <FontAwesomeIcon icon={faSortUp} />\r\n        <img src={props.img} alt=\"\"/>\r\n        <h4>r/{props.subHandle}</h4>\r\n      </div>\r\n      <span>{props.members} members</span>\r\n    </li>\r\n  )\r\n}\r\n\r\nfunction All() {\r\n\r\n  const history = useHistory();\r\n  const [subs, setSubs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get(`${process.env.REACT_APP_BASE}/community/`)\r\n    .then(res => setSubs(res.data))\r\n  }, [])\r\n  return (\r\n    <div class=\"All\">\r\n      <div className=\"AllBanner\">\r\n        <div className=\"AllBannerChild\">\r\n          <h1>Our Top Growing Communities</h1>\r\n          <p>Browse Reddit's top growing communities. Find the top communities in your favorite category.</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"growingCummunities\">\r\n        <div className=\"growingTop\">\r\n          <span>Today's Top Growing Communities</span>\r\n          <span>Rank Change</span>\r\n        </div>\r\n        <ol className=\"growingList\">\r\n          {subs.map(sub => {\r\n            return (\r\n              <Cummunity\r\n                key={sub._id}\r\n                members={sub.members}\r\n                img={sub.SubredditPicture}\r\n                subHandle={sub.SubredditHandle}\r\n                redirect={() => history.push(`r/${sub.SubredditHandle}`)}\r\n              />\r\n            )\r\n          })}\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default All;","import React, { useContext, useEffect, useState } from 'react'\r\nimport { auth } from '../firebase'\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentuser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  function signup(email, password, displayName, profile) {\r\n    return auth.createUserWithEmailAndPassword(email, password).then(function(result) {\r\n      result.user.updateProfile({\r\n        displayName: displayName,\r\n        photoURL: profile\r\n      })\r\n    })\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email)\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email)\r\n  }\r\n\r\n  function login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut()\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentuser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    resetPassword,\r\n    currentUser,\r\n    updateEmail,\r\n    signup,\r\n    login,\r\n    logout\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}","import axios from 'axios';\r\n\r\nasync function deletePost(voter, id) {\r\n\r\n  var postReq = {\r\n    voter: voter\r\n  }\r\n\r\n  axios.delete(`${process.env.REACT_APP_BASE}/comments/delete/${id}`, { data: postReq })\r\n  .then(res => {\r\n    if(res.data.code === 500) {\r\n      alert(res.data.msg)\r\n    }\r\n  })\r\n  .catch(err => {\r\n    console.log(err)\r\n  })\r\n}\r\n\r\nexport default deletePost;","import React, { useState, createContext, useContext } from 'react'\r\n\r\nconst PromptContext = createContext()\r\n\r\nexport function usePrompt() {\r\n  return useContext(PromptContext)\r\n}\r\n\r\nexport function PromptProvider(props) {\r\n  const [prompt, setPrompt] = useState()\r\n\r\n  function setPromptData(msg) {\r\n    setPrompt(msg)\r\n    setTimeout(() => {\r\n      setPrompt(null)\r\n    }, 1500)\r\n  }\r\n\r\n  const value = {\r\n    setPromptData,\r\n    prompt\r\n  }\r\n\r\n  return (\r\n    <PromptContext.Provider value={value}>\r\n      {props.children}\r\n    </PromptContext.Provider>\r\n  )\r\n}","import axios from 'axios';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport React, { useState, useEffect } from'react';\r\nimport deleteComment from './functions/deleteComment';\r\nimport { usePrompt } from '../contexts/PromptContext';\r\nimport { faEllipsisV } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n\r\nfunction Comment(props) {\r\n  const { currentUser } = useAuth();\r\n  const user = currentUser ? currentUser.uid : null;\r\n  const commentID = props.comment._id;\r\n  const [liked, setLiked] = useState(false);\r\n  const { setPromptData } = usePrompt();\r\n  const [show, setShow] = useState(true);\r\n  const [commentData, setCommentData] = useState();\r\n  const [likeCount, setLikeCount] = useState(null);\r\n  const [optionsMenu, setOptionsMenu] = useState(true);\r\n  const [likes, setLikes] = useState(props.comment.voted);\r\n\r\n  async function deleteCommentHandler() {\r\n    deleteComment(currentUser.displayName, commentID);\r\n    setShow(false);\r\n  }\r\n\r\n  async function upvotePost() {\r\n    var postReq = {\r\n      user\r\n    }\r\n    if(currentUser !== null) {\r\n      axios.post(`${process.env.REACT_APP_BASE}/comments/upvote/${commentID}`, postReq).then(res => {\r\n        if(res.data.code === 500) {\r\n          alert(res.data.msg)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n      console.log('All fine')\r\n      setLikeCount(likeCount + 1)\r\n      setLiked(true)\r\n    } else {\r\n      setPromptData('You Must be Logged In to Vote')\r\n    }\r\n  }\r\n\r\n  async function downvotePost() {\r\n    var postReq = {\r\n      user\r\n    }\r\n    if(currentUser !== null) {\r\n      axios.post(`${process.env.REACT_APP_BASE}/comments/downvote/${commentID}`, postReq).then(res => {\r\n        if(res.data.code === 500) {\r\n          alert(res.data.msg)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n      setLikeCount(likeCount - 1)\r\n      setLiked(false)\r\n      console.log('All fine')\r\n    } else {\r\n      setPromptData('You Must be Logged In to Vote')\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios.get(`${process.env.REACT_APP_BASE}/comments/one/${commentID}`).then(result => {\r\n      setCommentData(result.data)\r\n      setLikes(result.data.voted)\r\n      if (user && likes.find((like) => like === user)) {\r\n        setLiked(true);\r\n      } else setLiked(false);\r\n      setLikeCount(result.data.voteCount)\r\n    })\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [commentID, liked, likeCount, user]);\r\n\r\n  return (\r\n    <>\r\n    {show ? \r\n    <div class=\"Comment\">\r\n      {commentData ? <img className=\"commentProfile\" src={commentData.profilePicture} alt=\"s\"/> : <img className=\"commentProfile\" src=\"https://avatars.githubusercontent.com/u/49823186?v=4\" alt=\"s\"/>}\r\n      <div className=\"commentRight\">\r\n        <div className=\"commentTop\">\r\n          <div className=\"commentTopLeft\">\r\n            <div className=\"voteCount\">\r\n              {liked ? <button className=\"liked\" onClick={() => downvotePost(commentData)}>+</button> : <button className=\"notLiked\" onClick={() => upvotePost(commentData)}>+</button>}\r\n              {likeCount ? <p>{likeCount}</p> : <p>1</p>}\r\n            </div>\r\n            <div className=\"commentTopContainer\">\r\n              {commentData ? <h4>Commented by {commentData.user}</h4> : <></>}\r\n            </div>\r\n          </div>\r\n          <div className=\"optionsMenu\">\r\n            <button className=\"optionsButton\" onClick={() => setOptionsMenu(!optionsMenu)} ><FontAwesomeIcon icon={faEllipsisV}/></button>\r\n            {optionsMenu ? <></> : \r\n              <div className=\"optionsMenuContent\">\r\n                <button onClick={() => deleteCommentHandler()}>Delete</button>\r\n                <button>Copy Text</button>\r\n                <button>Report</button>\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n        <div className=\"commentBottom\">\r\n          {commentData ? <p>{commentData.commentText}</p> : <></>}\r\n        </div>\r\n      </div>\r\n    </div> : <></>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Comment;","import axios from 'axios';\r\n\r\nasync function deletePost(voter, id) {\r\n\r\n  var postReq = {\r\n    voter: voter\r\n  }\r\n\r\n  axios.delete(`${process.env.REACT_APP_BASE}/posts/delete/${id}`, { data: postReq })\r\n  .then(res => {\r\n    if(res.data.code === 500) {\r\n      alert(res.data.msg)\r\n    }\r\n  })\r\n  .catch(err => {\r\n    console.log(err)\r\n  })\r\n}\r\n\r\nexport default deletePost;","import axios from 'axios';\r\nimport Comment from './Comment';\r\nimport deletePost from './functions/deletePost';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { usePrompt } from '../contexts/PromptContext';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport React, { useState, useEffect, useRef } from'react';\r\nimport { faEllipsisV, faLink } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nconst PostPage = React.memo((props) => {\r\n  const [optionsMenu, setOptionsMenu] = useState(true);\r\n  const { currentUser } = useAuth();\r\n  const user = currentUser ? currentUser.uid : null;\r\n  const [likeCount, setLikeCount] = useState(null);\r\n  const [postOption, setPostOption] = useState();\r\n  const [comments, setComments] = useState([]);\r\n  const [postData, setPostData] = useState();\r\n  const [likes, setLikes] = useState(['eee']);\r\n  const [liked, setLiked] = useState(false);\r\n  const { setPromptData } = usePrompt();\r\n  const postID = useParams().id;\r\n  const history = useHistory();\r\n  const commentRef = useRef();\r\n\r\n  async function upvotePost() {\r\n    const voter = currentUser.uid;\r\n    var postReq = {\r\n      voter\r\n    }\r\n    axios.post(`${process.env.REACT_APP_BASE}/posts/upvote/${postID}`, postReq).then(res => {\r\n      if(res.data.code === 500) {\r\n        alert(res.data.msg)\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n    })\r\n    console.log('All fine')\r\n    setLiked(true)\r\n  }\r\n\r\n  async function downvotePost() {\r\n    var postReq = {\r\n      voter: currentUser.uid\r\n    }\r\n    axios.post(`${process.env.REACT_APP_BASE}/posts/downvote/${postID}`, postReq).then(res => {\r\n      if(res.data.code === 500) {\r\n        alert(res.data.msg)\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n    })\r\n    setLiked(false)\r\n    console.log('All fine')\r\n  }\r\n\r\n  function sharePost() {\r\n    var copiedURL = `${window.location.host}/post/${postID}`;\r\n    navigator.clipboard.writeText(copiedURL);\r\n    setPromptData('Copied URL into Clipboard');\r\n  }\r\n\r\n  async function commentHandler(e) {\r\n    e.preventDefault()\r\n\r\n    var currentComment = {\r\n      user: currentUser.displayName,\r\n      voteCount: 1,\r\n      voted: currentUser.uid,\r\n      parentPost: postID,\r\n      profilePicture: currentUser.photoURL,\r\n      commentText: commentRef.current.value,\r\n    }\r\n    commentRef.current.value = '';\r\n    await axios.post(`${process.env.REACT_APP_BASE}/comments/create`, currentComment)\r\n    .then(setPromptData('Posted Comment'))\r\n  }\r\n\r\n  function CurrentOption() {\r\n    switch(postOption) {\r\n      case 'image':\r\n        return (\r\n          postData.imageURL && <img src={postData.imageURL} alt=\"postImage\"/>\r\n        )\r\n      case 'link':\r\n        return (\r\n          postData.link && \r\n          <div title={postData.link} className=\"linkContainer\">\r\n            <a href={postData.link} rel=\"noreferrer\" target=\"_blank\">{postData.link}</a>\r\n            <a className=\"linkPlaceholder\" href={postData.link} rel=\"noreferrer\" target=\"_blank\">\r\n              <FontAwesomeIcon icon={faLink} />\r\n              <div className=\"linkTinySqr\">\r\n                <FontAwesomeIcon icon={faLink} />\r\n              </div>\r\n            </a>\r\n          </div>\r\n        )\r\n      case 'post':\r\n        return (\r\n          postData.text && <p className=\"postText\">{postData.text}</p>\r\n        )\r\n      default:\r\n        return <></>\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios.get(`${process.env.REACT_APP_BASE}/comments/from/${postID}`)\r\n      .then((results) => {\r\n        setComments(results.data)\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n    axios.get(`${process.env.REACT_APP_BASE}/posts/one/${postID}`).then(result => {\r\n      setPostData(result.data)\r\n      setLikes(result.data.voted)\r\n      if (user && likes.find((like) => like === user)) {\r\n        setLiked(true);\r\n      } else setLiked(false);\r\n      setLikeCount(result.data.voteCount)\r\n    })\r\n    if(postData !== undefined && postData.imageURL) {\r\n      setPostOption('image');\r\n    } else if (postData !== undefined && postData.link) {\r\n      setPostOption('link')\r\n    } else if (postData !== undefined && postData.text) {\r\n      setPostOption('post')\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [postID, liked, likeCount, user]);\r\n\r\n  return (\r\n    <div className=\"PostPage\">\r\n      <div className=\"PostPagePost\">\r\n        <div className=\"postBody\">\r\n          <div className=\"postTop\">\r\n            <div className=\"voteCount\">\r\n              {liked ? <button className=\"liked\" onClick={() => downvotePost(postData)}>+</button> : <button className=\"notLiked\" onClick={() => upvotePost(postData)}>+</button>}\r\n              {likeCount ? <p>{likeCount}</p> : <p>0</p>}\r\n            </div>\r\n            <div className=\"topContainer\"  onClick={() => history.push(`/post/${postID}`)}>\r\n              <div className=\"top\">\r\n                {postData ? <h4>Posted by {postData.user} on r/{postData.subReddit}</h4> : <></>}\r\n              </div>\r\n              <div className=\"bottom\">\r\n                {postData ? <h3>{postData.title}</h3> : <></>}\r\n              </div>\r\n            </div>\r\n            <div className=\"optionsMenu\">\r\n              <button className=\"optionsButton\" onClick={() => setOptionsMenu(!optionsMenu)} ><FontAwesomeIcon icon={faEllipsisV}/></button>\r\n              {optionsMenu ? <></> : \r\n                <div className=\"optionsMenuContent\">\r\n                  <button onClick={() => deletePost(currentUser.displayName, postID)}>Delete</button>\r\n                  <button onClick={sharePost}>Share</button>\r\n                  <button>Report</button>\r\n                </div>\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className=\"postImage\">\r\n            {postData && <CurrentOption />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"postComments\">\r\n        <div className=\"commentForm\">\r\n          <textarea ref={commentRef} cols=\"30\" rows=\"10\" placeholder=\"What are your thoughts?\"></textarea>\r\n          <div className=\"commentFormBottom\">\r\n            <button onClick={(e) => commentHandler(e)}>Comment</button>\r\n          </div>\r\n        </div>\r\n        {comments.map(comment => {\r\n          return <Comment comment={comment}/>\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default PostPage;","import axios from 'axios';\r\nimport LazyLoad from 'react-lazyload';\r\nimport { useHistory } from 'react-router-dom';\r\nimport deletePost from './functions/deletePost';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport React, { useState, useEffect } from'react';\r\nimport { usePrompt } from '../contexts/PromptContext';\r\nimport { faEllipsisV, faShareAlt, faCommentAlt, faLink } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nconst Post = React.memo((props) => {\r\n  const [likeCount, setLikeCount] = useState(null);\r\n  const [likes, setLikes] = useState(props.post.voted);\r\n  const [optionsMenu, setOptionsMenu] = useState(true);\r\n  const [postOption, setPostOption] = useState();\r\n  const [postData, setPostData] = useState();\r\n  const [liked, setLiked] = useState(false);\r\n  const { setPromptData } = usePrompt();\r\n  const { currentUser } = useAuth();\r\n  const history = useHistory();\r\n  const user = currentUser ? currentUser.uid : null;\r\n  const postID = props.post._id;\r\n\r\n  async function upvotePost(msg) {\r\n    const voter = user;\r\n    var postReq = {\r\n      voter\r\n    }\r\n    if(user !== null) {\r\n      axios.post(`${process.env.REACT_APP_BASE}/posts/upvote/${postID}`, postReq).then(res => {\r\n        if(res.data.code === 500) {\r\n          alert(res.data.msg)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n      console.log('All fine')\r\n      setLikeCount(likeCount + 1)\r\n      setLiked(true)\r\n    } else {\r\n      setPromptData('You Must be Logged In to Vote');\r\n    }\r\n  }\r\n\r\n  async function downvotePost(msg) {\r\n    const voter = user;\r\n    var postReq = {\r\n      voter\r\n    }\r\n    if(user !== null) {\r\n      axios.post(`${process.env.REACT_APP_BASE}/posts/downvote/${postID}`, postReq).then(res => {\r\n        if(res.data.code === 500) {\r\n          alert(res.data.msg)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n      setLikeCount(likeCount - 1)\r\n      setLiked(false)\r\n      console.log('All fine')\r\n    }\r\n  }\r\n\r\n  function sharePost() {\r\n    var copiedURL = `${window.location.host}/post/${postID}`;\r\n    navigator.clipboard.writeText(copiedURL);\r\n    setPromptData('Copied URL into Clipboard');\r\n  }\r\n\r\n  function CurrentOption() {\r\n    switch(postOption) {\r\n      case 'image':\r\n        return (\r\n          postData.imageURL ?\r\n            <LazyLoad height={200} offset={50}>\r\n              <img src={postData.imageURL} alt=\"postImage\" onClick={() => history.push(`/post/${postID}`)}/>\r\n            </LazyLoad>\r\n          : <></>\r\n        )\r\n      case 'link':\r\n        return (\r\n          postData.link ?\r\n            <LazyLoad height={200} offset={50}>\r\n              <div className=\"linkContainer\">\r\n                <a href={postData.link} rel=\"noreferrer\" target=\"_blank\">{postData.link}</a>\r\n                <a className=\"linkPlaceholder\" title={`${postData.link}`} href={postData.link} rel=\"noreferrer\" target=\"_blank\">\r\n                  <FontAwesomeIcon icon={faLink} />\r\n                  <div className=\"linkTinySqr\">\r\n                    <FontAwesomeIcon icon={faLink} />\r\n                  </div>\r\n                </a>\r\n              </div>\r\n            </LazyLoad>\r\n          : <></>\r\n        )\r\n      case 'post':\r\n        return (\r\n          <></>\r\n        )\r\n      default:\r\n        return <></>\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios.get(`${process.env.REACT_APP_BASE}/posts/one/${postID}`)\r\n    .then(result => {\r\n      setPostData(result.data)\r\n      if(postData !== undefined && postData.imageURL) {\r\n        setPostOption('image');\r\n      } else if (postData !== undefined && postData.link) {\r\n        setPostOption('link')\r\n      } else if (postData !== undefined && postData.text) {\r\n        setPostOption('post')\r\n      }\r\n      setLikes(result.data.voted)\r\n      if (user && likes.find((like) => like === user)) {\r\n        setLiked(true);\r\n      } else setLiked(false);\r\n      setLikeCount(result.data.voteCount)\r\n    })\r\n    //setPostOption('link')\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [postID, liked, likeCount, user]);\r\n\r\n  return (\r\n    <div className=\"Post\">\r\n      <div className=\"postBody\">\r\n        <div className=\"postTop\">\r\n          <div className=\"voteCount\">\r\n            {liked ? <button className=\"liked\" onClick={() => downvotePost(postData)}>+</button> : <button className=\"notLiked\" onClick={() => upvotePost(postData)}>+</button>}\r\n            {likeCount ? <p>{likeCount}</p> : <p>0</p>}\r\n          </div>\r\n          <div className=\"topContainer\" onClick={() => history.push(`/post/${postID}`)}>\r\n            <div className=\"top\">\r\n              {postData ? <h4>Posted by {postData.user} on r/{postData.subReddit}</h4> : <></>}\r\n            </div>\r\n            <div className=\"bottom\">\r\n              {postData ? <h3>{postData.title}</h3> : <></>}\r\n            </div>\r\n          </div>\r\n          <div className=\"optionsMenu\">\r\n            <button className=\"optionsButton\" onClick={() => setOptionsMenu(!optionsMenu)} ><FontAwesomeIcon icon={faEllipsisV}/></button>\r\n            {optionsMenu ? <></> : \r\n              <div className=\"optionsMenuContent\">\r\n                <button onClick={() => deletePost(currentUser.displayName, postID)}>Delete</button>\r\n                <button onClick={sharePost}>Share</button>\r\n                <button>Report</button>\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n        <div className=\"postImage\">\r\n          <CurrentOption />\r\n        </div>\r\n        <div className=\"bottomPostContainer\">\r\n          <button className=\"postBottomButtons\" onClick={() => history.push(`/post/${postID}`)}>\r\n            <FontAwesomeIcon className=\"postBottomIcon\" icon={faCommentAlt} />\r\n            Comments\r\n          </button>\r\n          <button className=\"postBottomButtons\"  onClick={() => sharePost()}>\r\n            <FontAwesomeIcon className=\"postBottomIcon\" icon={faShareAlt} />\r\n            Share\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default Post;","import { faPoll, faLink, faFire, faCertificate, faSort } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport React, { useEffect, useState } from'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Post from './Post';\r\n\r\nconst Posts = React.memo(() => {\r\n\r\n  const history = useHistory();\r\n  let [page, setPage] = useState(1);\r\n  const { currentUser } = useAuth();\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  const profilePicture = currentUser ? currentUser.photoURL : null;\r\n\r\n  function query(sort) {\r\n    return currentUser ? `${process.env.REACT_APP_BASE}/posts/user/feed/${currentUser.uid}/${sort}` : `${process.env.REACT_APP_BASE}/posts`\r\n  }\r\n\r\n  async function changeSort(newSort) {\r\n    axios.get(query(newSort))\r\n      .then(res => {\r\n        setPosts(res.data);\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    setPage(page + 1)\r\n    axios.get(query('hot'))\r\n      .then(res => {\r\n        setPosts(prev => [...prev, ...res.data])\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"Posts\">\r\n      <div className=\"Post CreatePost\">\r\n        <img\r\n          onClick={() => history.push('/profile')}\r\n          src={profilePicture}\r\n          alt=\"profile\"\r\n        />\r\n        <input\r\n          onClick={() => history.push('/create/post')}\r\n          type=\"text\"\r\n          placeholder=\"Create Post\"\r\n        />\r\n        <FontAwesomeIcon\r\n          onClick={() => history.push('/create/post')}\r\n          className=\"CreatePostIcon\"\r\n          icon={faPoll}\r\n        />\r\n        <FontAwesomeIcon\r\n          onClick={() => history.push('/create/post')}\r\n          className=\"CreatePostIcon\"\r\n          icon={faLink}\r\n        />\r\n      </div>\r\n      <div className=\"Post SortBy\">\r\n        <div className=\"SortByTab\" onClick={() => changeSort('hot')}>\r\n          <FontAwesomeIcon\r\n            className=\"CreatePostIcon\"\r\n            icon={faFire}\r\n          />\r\n          Hot\r\n        </div>\r\n        <div className=\"SortByTab\" onClick={() => changeSort('new')}>\r\n          <FontAwesomeIcon\r\n            className=\"CreatePostIcon\"\r\n            icon={faCertificate}\r\n          />\r\n          New\r\n        </div>\r\n        <div className=\"SortByTab\" onClick={() => changeSort('top')}>\r\n          <FontAwesomeIcon\r\n            className=\"CreatePostIcon\"\r\n            icon={faSort}\r\n          />\r\n          Top\r\n        </div>\r\n      </div>\r\n      {posts.map(post => {\r\n        return <Post post={post} key={post._id} />\r\n      })}\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default Posts;","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { usePrompt } from '../../contexts/PromptContext';\r\n\r\nfunction CummunityItem(props) {\r\n\r\n  const { currentUser } = useAuth();\r\n  const { setPromptData } = usePrompt();\r\n  const user = currentUser ? currentUser.uid : null;\r\n  const destination = `r/${props.subHandle}`;\r\n  const [joined, setJoined] = useState(null);\r\n  const [joinedSubs, setJoinedSubs] = useState([props.joinedSubs]);\r\n  const baseUserRequest = `${process.env.REACT_APP_BASE}/user/`;\r\n\r\n  // I send a Axios Request to join a subreddit\r\n  async function joinSub() {\r\n    \r\n    const postReq = {\r\n      cummunity: props.subHandle\r\n    }\r\n\r\n    await axios.post(`${baseUserRequest}join/${user}`, postReq)\r\n    .then(resonse => userIsJoined(resonse.data.joined))\r\n    // Displays a prompt to the user\r\n    setPromptData(`Successfully joined r/${props.subHandle}`)\r\n  }\r\n\r\n  // I send a Axios Request to leave a subreddit\r\n  async function leaveSub() {\r\n\r\n    const postReq = {\r\n      cummunity: props.subHandle\r\n    }\r\n\r\n    await axios.post(`${baseUserRequest}leave/${user}`, postReq)\r\n    .then(resonse => userIsJoined(resonse.data.joined))\r\n    //userIsJoined(result.data[0].joined)\r\n    // Displays a prompt to the user\r\n    setPromptData(`Successfully left r/${props.subHandle}`)\r\n  }\r\n\r\n  function userIsJoined(list) {\r\n    if (list.find((joinedUser) => joinedUser === props.subHandle)) {\r\n      setJoined(true);\r\n    } else setJoined(false);\r\n  }\r\n\r\n  async function fetchUserData() {\r\n    // The ${baseUserRequest}${user} bit looks weird but it works\r\n    // Trust me. The if statement is to\r\n    // prevent Errors for people not logged in\r\n    if(currentUser) {\r\n      await axios.get(`${baseUserRequest}${user}`)\r\n        .then(result => {\r\n          setJoinedSubs(result.data[0].joined)\r\n          userIsJoined(result.data[0].joined)\r\n        })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchUserData()\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [joined])\r\n\r\n  return (\r\n    <div className=\"cummunityItem\">\r\n      <img src={props.image} alt=\"Logo\"/>\r\n      <div className=\"cummunityItemRight\">\r\n        <div className=\"cummunityItemRightDetails\">\r\n          <Link to={destination}>r/{props.subHandle}</Link>\r\n          <p>{props.members} members</p>\r\n        </div>\r\n        {joined ? \r\n          <button className=\"JoinedBTN\" onClick={() => leaveSub()}><span>Joined</span></button>\r\n          :\r\n          <button className=\"JoinBTN\" onClick={() => joinSub()}>Join</button>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CummunityItem;","import axios from 'axios';\r\nimport CummunityItem from './CummunityItem';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nfunction SideBar() {\r\n\r\n  const history = useHistory();\r\n  const { currentUser } = useAuth();\r\n\r\n  const [subs, setSubs] = useState([]);\r\n  const [joinedSubs, setJoined] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function getUserData() {\r\n      if(currentUser) {\r\n        // This just feched user data\r\n        axios.get(`${process.env.REACT_APP_BASE}/user/${currentUser ? currentUser.uid : null}`)\r\n          .then(res => {\r\n            setJoined(res.data[0].joined);\r\n          })\r\n      }\r\n    }\r\n    axios.get(`${process.env.REACT_APP_BASE}/community/trending`)\r\n      .then(res => {\r\n        setSubs(res.data)\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n    // The if statement is to prevent Errors\r\n    // for people not logged in\r\n    if(currentUser) {\r\n      // This just feched user data\r\n      getUserData()\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"SideBar\">\r\n      <div className=\"SideBarPost sideBarCreateOptions\">\r\n        <div className=\"SideBarBanner\">Home</div>\r\n        <p>Welcome to your frontpage. Look here to check in on your favorite communities.</p>\r\n        <div className=\"createButtonsContainer\">\r\n          <Link className=\"CreateButton\" to=\"/create/post\">Create Post</Link>\r\n          <Link className=\"CreateButton\" to=\"/create/cummunity\">Create Cummunity</Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"SideBarPost sideBarCummunities\">\r\n        <h4 className=\"trendingCummunitiesBanner\">Trending Communities</h4>\r\n        <div className=\"cummunites\">\r\n          {subs.map(sub => {\r\n            return (\r\n              <CummunityItem\r\n                joined={joinedSubs.includes(sub.SubredditHandle) ? true : false}\r\n                joinedSubs={joinedSubs}\r\n                image={sub.SubredditPicture}\r\n                subHandle={sub.SubredditHandle}\r\n                members={sub.members}\r\n                key={sub._id}\r\n              />\r\n            )\r\n          })}\r\n          <button className=\"viewAll\" onClick={() => history.push('/all')}>View All</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SideBar;","import React from'react';\r\nimport Posts from './Posts';\r\nimport SideBar from './Elements/SideBar';\r\n\r\nfunction FrontPage() {\r\n\r\n  return (\r\n    <div className=\"FrontPage\">\r\n      <Posts/>\r\n      <SideBar/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FrontPage;","import React, { useRef, useState } from'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport { faLock, faChevronRight, faUser } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nfunction Login() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const { login } = useAuth()\r\n  const [error, setError] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setError('')\r\n      setLoading(true)\r\n      await login(emailRef.current.value, passwordRef.current.value)\r\n      history.push('/')\r\n    } catch {\r\n      setError('Failed to sign in')\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n  return (\r\n    <div class=\"Form\">\r\n      {error ? <div className=\"prompt\">{error}</div> : <></>}\r\n      <form onSubmit={handleSubmit} class=\"inputForm inputLogin\">\r\n        <h2>Log In</h2>\r\n        <div className=\"formInput\">\r\n          <FontAwesomeIcon icon={faUser} />\r\n          <input ref={emailRef} name=\"user\" type=\"email\" placeholder=\"Email\"/>\r\n        </div>\r\n        <div className=\"formInput\">\r\n          <FontAwesomeIcon icon={faLock} />\r\n          <input ref={passwordRef} name=\"password\" type=\"password\" placeholder=\"Password\"/>\r\n        </div>\r\n        <Link to=\"/register\" className=\"redirectFromButton\">Register <FontAwesomeIcon icon={faChevronRight} /></Link>\r\n        <h4>By continuing, you agree to our User Agreement and Privacy Policy.</h4>\r\n        <button className=\"formButton\" disabled={loading}>Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;","import React, { useState } from'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { usePrompt } from '../../contexts/PromptContext';\r\n\r\nfunction Prompt(props) {\r\n\r\n  const history = useHistory();\r\n  const { setPromptData } = usePrompt();\r\n  const [email, setEmail] = useState(props.email);\r\n  const { updateEmail, currentUser } = useAuth();\r\n  \r\n  function inputHandler(value) {\r\n    setEmail(value)\r\n  }\r\n\r\n  function submitHandler() {\r\n    updateEmail(email);\r\n    history.push('/');\r\n    setPromptData(`This is Final, your new Email is ${currentUser.email}, the next time you log in you will be asked for it. Please Remember this.`);\r\n  }\r\n\r\n  return (\r\n    <div className=\"Prompt\">\r\n      <h1>Are You Sure?</h1>\r\n      <p>If you dont have access to this email you may not be able to do things such as reset your password</p>\r\n      <div className=\"promptInput\">\r\n        <input type=\"email\" value={email} onChange={(e) => inputHandler(e.target.value)}/>\r\n        <button onClick={() => submitHandler()}>Confirm</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Prompt;","import { usePrompt } from '../../contexts/PromptContext';\r\nimport React, { useEffect, useState } from'react'\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport Prompt from './Prompt';\r\nimport Post from '../Post';\r\nimport axios from 'axios';\r\n\r\nconst Profile = React.memo(() => {\r\n  const { setPromptData } = usePrompt();\r\n  const [posts, setPosts] = useState([]);\r\n  const { currentUser, resetPassword } = useAuth();\r\n  const [promptMenu, setPromptMenu] = useState(true);\r\n  const [axiosLink] = useState(currentUser ? `${process.env.REACT_APP_BASE}/posts/user/${currentUser.displayName.substring(2)}` : null);\r\n\r\n  useEffect(() => {\r\n    axios.get(axiosLink)\r\n      .then(res => {\r\n        setPosts(res.data)\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }, [axiosLink]);\r\n\r\n  function passwordHandler() {\r\n    setPromptData('Check your Email to reset your Password')\r\n    resetPassword(currentUser.email)\r\n  }\r\n  function emailHandler() {\r\n    setPromptMenu(!promptMenu)\r\n  }\r\n\r\n  return (\r\n    <div className=\"Profile\">\r\n      {promptMenu ? <></> : <Prompt email={currentUser.email}/>}\r\n      <div className=\"profileTop\">\r\n        {currentUser ? <img src={currentUser.photoURL} alt=\"\"/> : <h1>Not Logged In</h1>}\r\n        <div className=\"profileRight\">\r\n          {currentUser ? <h2>{currentUser.displayName}</h2> : <h1>Anonymous User</h1>}\r\n          <h4>{posts.length} Posts</h4>\r\n        </div>\r\n      </div>\r\n      <div className=\"profilePreferences\">\r\n        <div className=\"preference\">\r\n          <div>\r\n            <h3>Email address</h3>\r\n            {currentUser ? <p>{currentUser.email}</p> : <p>user@example.com</p>}\r\n          </div>\r\n          <button onClick={() => emailHandler()}>Change</button>\r\n        </div>\r\n        <div className=\"preference\">\r\n          <div>\r\n            <h3>Password</h3>\r\n            <p>Password must be at least 6 characters long</p>\r\n          </div>\r\n          <button onClick={passwordHandler}>Change</button>\r\n        </div>\r\n      </div>\r\n      {currentUser ? \r\n      <div className=\"FrontPage\">\r\n        <div>\r\n          {posts.map(post => {\r\n            return <Post post={post}/>\r\n          })}\r\n        </div>\r\n      </div>\r\n    : <></>}\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default Profile;","import React, { useRef, useState } from'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport { faLock, faChevronRight, faUser, faEnvelope } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nfunction Register() {\r\n  const userRef = useState()\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const confirmPasswordRef = useRef()\r\n  const { signup } = useAuth()\r\n  const [error, setError] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    if(passwordRef.current.value !== confirmPasswordRef.current.value) {\r\n      return setError('Passwords do not match')\r\n    }\r\n\r\n    try {\r\n      setError('')\r\n      setLoading(true)\r\n      await signup(emailRef.current.value, passwordRef.current.value, `u/${userRef.current.value}`, \"https://avatars.githubusercontent.com/u/49823186?v=4\")\r\n      history.push('/')\r\n    } catch {\r\n      setError('Failed to create an account')\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n  return (\r\n    <div class=\"Form\">\r\n      <h3>{error ? <p>{error}</p> : <></>}</h3>\r\n      <form onSubmit={handleSubmit} class=\"inputForm inputRegister\">\r\n        <h2>Register</h2>\r\n        <div className=\"formInput\">\r\n          <FontAwesomeIcon icon={faUser} />\r\n          <input ref={userRef} type=\"text\" placeholder=\"Username\"/>\r\n        </div>\r\n        <div className=\"formInput\">\r\n          <FontAwesomeIcon icon={faEnvelope} />\r\n          <input ref={emailRef} type=\"email\" placeholder=\"Email\"/>\r\n        </div>\r\n        <div className=\"formInput\">\r\n          <FontAwesomeIcon icon={faLock} />\r\n          <input ref={passwordRef} type=\"password\" placeholder=\"Password\"/>\r\n        </div>\r\n        <div className=\"formInput\">\r\n          <FontAwesomeIcon icon={faLock} />\r\n          <input ref={confirmPasswordRef} type=\"password\" placeholder=\"Confirm Password\"/>\r\n        </div>\r\n        <Link to=\"/login\" className=\"redirectFromButton\">Login <FontAwesomeIcon icon={faChevronRight} /></Link>\r\n        <h4>By continuing, you agree to our User Agreement and Privacy Policy.</h4>\r\n        <button className=\"formButton\" disabled={loading}>Register</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;","import { useAuth } from '../../contexts/AuthContext';\r\nimport { usePrompt } from '../../contexts/PromptContext';\r\nimport React, { useState, useEffect } from'react';\r\nimport axios from 'axios';\r\n\r\nfunction SubBanner(props) {\r\n\r\n  const user = props.user;\r\n  const { currentUser } = useAuth();\r\n  const { setPromptData } = usePrompt();\r\n  const [joined, setJoined] = useState(props.joined);\r\n  const [joinedSubs, setJoinedSubs] = useState([]);\r\n  const baseUserRequest = `${process.env.REACT_APP_BASE}/user/`;\r\n  const subHandle = props.handle ? props.handle : null;\r\n\r\n  // I send a Axios Request to join a subreddit\r\n  async function joinSub() {\r\n    \r\n    const postReq = {\r\n      cummunity: subHandle\r\n    }\r\n\r\n    await axios.post(`${baseUserRequest}join/${user}`, postReq)\r\n    .then(resonse => userIsJoined(resonse.data.joined))\r\n    // Displays a prompt to the user\r\n    setPromptData(`Successfully joined r/${subHandle}`)\r\n  }\r\n\r\n  // I send a Axios Request to leave a subreddit\r\n  async function leaveSub() {\r\n\r\n    const postReq = {\r\n      cummunity: subHandle\r\n    }\r\n\r\n    await axios.post(`${baseUserRequest}leave/${user}`, postReq)\r\n    .then(resonse => userIsJoined(resonse.data.joined))\r\n    //userIsJoined(result.data[0].joined)\r\n    // Displays a prompt to the user\r\n    setPromptData(`Successfully left r/${subHandle}`)\r\n  }\r\n\r\n  async function fetchUserData() {\r\n    // The ${baseUserRequest}${user} bit looks weird but it works\r\n    // Trust me. The if statement is to\r\n    // prevent Errors for people not logged in\r\n    if(currentUser) {\r\n      await axios.get(`${baseUserRequest}${user}`)\r\n        .then(result => {\r\n          userIsJoined(result.data[0].joined)\r\n        })\r\n    }\r\n  }\r\n\r\n  function userIsJoined(list) {\r\n    if (list.find((joinedUser) => joinedUser === subHandle)) {\r\n      setJoined(true);\r\n    } else setJoined(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchUserData()\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [joined])\r\n\r\n  return (\r\n    <div className=\"SubBanner\">\r\n      <div className=\"SubBackGround\">\r\n        <img src=\"https://styles.redditmedia.com/t5_2x2n9/styles/bannerBackgroundImage_mp5e7yw2s7u11.png\" alt=\"\"/>\r\n      </div>\r\n      <div className=\"SubMainBar\">\r\n        <img src={props.picture} alt=\"pic\"/>\r\n        <div className=\"SubBarHandles\">\r\n          <div className=\"SubBarHandleTop\">\r\n            <h2>{props.name}</h2>\r\n            {joined ?\r\n              <button className=\"JoinedBTN\" onClick={() => leaveSub()}><span>Joined</span></button>\r\n              :\r\n              <button className=\"JoinBTN\" onClick={() => joinSub()}>Join</button>\r\n            }\r\n          </div>\r\n          <p>r/{props.handle}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SubBanner;","import { Link } from 'react-router-dom';\r\nimport React from'react';\r\n\r\nfunction SubSidebar(props) {\r\n\r\n  return (\r\n    <div className=\"SideBar\">\r\n      <div className=\"SideBarPost sideBarCreateOptions\">\r\n        <div className=\"SideBarBanner\"><span>{`r/${props.handle}`}</span></div>\r\n        <p>{props.description}</p>\r\n        <div className=\"createButtonsContainer\">\r\n          <Link className=\"CreateButton\" to=\"/create/post\">Create Post</Link>\r\n          <Link className=\"CreateButton\" to=\"/create/cummunity\">Create Cummunity</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SubSidebar;","import axios from 'axios';\r\nimport Post from './../Post';\r\nimport SubBanner from './SubBanner';\r\nimport SubSidebar from './SubSidebar';\r\nimport { useParams } from 'react-router-dom';\r\nimport React, { useState, useEffect } from'react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFire, faCertificate, faSort } from '@fortawesome/free-solid-svg-icons'\r\n\r\nfunction SubReddit() {\r\n  const subID = useParams().sub;\r\n  const { currentUser } = useAuth();\r\n  const [posts, setPosts] = useState([]);\r\n  const [subData, setSubData] = useState();\r\n  const [joined] = useState(null);\r\n  const user = currentUser ? currentUser.uid : null;\r\n\r\n  function query(sort) {\r\n    return currentUser ? `${process.env.REACT_APP_BASE}/posts/sub/${subID}/${sort}` : `${process.env.REACT_APP_BASE}/posts`\r\n  }\r\n\r\n  async function fetchSubData() {\r\n    axios.get(`${process.env.REACT_APP_BASE}/community/${subID}`)\r\n      .then(result => {\r\n        setSubData(result.data[0])\r\n      })\r\n  }\r\n\r\n  async function changeSort(newSort) {\r\n    console.log(query(newSort))\r\n    axios.get(query(newSort))\r\n      .then(res => {\r\n        setPosts(res.data);\r\n        console.log(res.data)\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchSubData()\r\n    axios.get(query('hot'))\r\n      .then(result => {\r\n        setPosts(result.data)\r\n      })\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [joined])\r\n\r\n  return (\r\n    <div className=\"SubReddit\">\r\n      {subData ? \r\n      <SubBanner\r\n        handle={subData.SubredditHandle}\r\n        name={subData.SubredditName}\r\n        picture={subData.SubredditPicture}\r\n        joined={joined}\r\n        user={user}\r\n      /> : <></>}\r\n      <div className=\"SubPosts\">\r\n        <div className=\"Posts\">\r\n          <div className=\"Post SortBy\">\r\n            <div className=\"SortByTab\" onClick={() => changeSort('hot')}>\r\n              <FontAwesomeIcon\r\n                className=\"CreatePostIcon\"\r\n                icon={faFire}\r\n              />\r\n              Hot\r\n            </div>\r\n            <div className=\"SortByTab\" onClick={() => changeSort('new')}>\r\n              <FontAwesomeIcon\r\n                className=\"CreatePostIcon\"\r\n                icon={faCertificate}\r\n              />\r\n              New\r\n            </div>\r\n            <div className=\"SortByTab\" onClick={() => changeSort('top')}>\r\n              <FontAwesomeIcon\r\n                className=\"CreatePostIcon\"\r\n                icon={faSort}\r\n              />\r\n              Top\r\n            </div>\r\n          </div>\r\n          {posts.map(post => {\r\n            return <Post post={post} key={post._id} />\r\n          })}\r\n        </div>\r\n        {subData ? \r\n        <SubSidebar\r\n          handle={subData.SubredditHandle}\r\n          description={subData.description}\r\n        /> : <></>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SubReddit;","import axios from 'axios';\r\nimport React, { useRef } from 'react'\r\nimport { useAuth } from '../../../contexts/AuthContext';\r\n\r\nfunction URLPost() {\r\n\r\n  const titleRef = useRef();\r\n  const linkRef = useRef()\r\n  const subredditRef = useRef()\r\n  const { currentUser } = useAuth()\r\n\r\n  function postHandler() {\r\n    let currentPost = {\r\n      user: currentUser.displayName,\r\n      subReddit: subredditRef.current.value,\r\n      title: titleRef.current.value,\r\n      link: linkRef.current.value,\r\n      voted: currentUser.uid,\r\n      voteCount: 1,\r\n    }\r\n    axios.post(`${process.env.REACT_APP_BASE}/posts/create/link`, currentPost)\r\n  }\r\n\r\n  return (\r\n    <div className='inputForm inputCreateLink'>\r\n      <div className=\"formInput\">\r\n        <input ref={titleRef} type=\"text\" placeholder=\"Title\"/>\r\n      </div>\r\n      <div className=\"formInput\">\r\n        <input ref={subredditRef} type=\"text\" placeholder=\"Subreddit\"/>\r\n      </div>\r\n      <div className=\"formTextarea\">\r\n        <textarea ref={linkRef} type=\"url\" placeholder=\"Url\"/>\r\n      </div>\r\n      <button onClick={postHandler} className=\"formButton\">Create Post</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default URLPost;","import '../../../firebase'\r\nimport axios from 'axios'\r\nimport 'firebase/storage';\r\nimport firebase from 'firebase'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { useHistory } from 'react-router-dom';\r\nimport React, { useRef, useState } from'react';\r\nimport { useAuth } from '../../../contexts/AuthContext';\r\nimport { usePrompt } from '../../../contexts/PromptContext';\r\nimport { faCloudUploadAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nfunction ImagePost(props) {\r\n\r\n  const { setPromptData } = usePrompt();\r\n  const history = useHistory()\r\n  const { currentUser } = useAuth()\r\n  const uploadRef = useRef()\r\n  const subredditRef = useRef()\r\n  const titleRef = useRef()\r\n  \r\n  var [uploaded, setUpload] = useState(false);\r\n  var [imgURL, setImage] = useState();\r\n  var [fileRef, setFileRef] = useState('Drag and drop images or');\r\n  var filename = `${uuidv4()}.png`\r\n  var storageRef = firebase.storage().ref().child(filename);\r\n\r\n  function postSuccessful() {\r\n    history.push('/')\r\n    setPromptData('Posted Successfully')\r\n  }\r\n\r\n  async function uploadHandler() {\r\n    setFileRef(uploadRef.current.files[0].name)\r\n    await storageRef.put(uploadRef.current.files[0])\r\n    await storageRef.getDownloadURL().then((res) => {\r\n      setImage(res)\r\n      setUpload(true)\r\n    })\r\n  }\r\n\r\n  async function postHandler(e) {\r\n    e.preventDefault()\r\n\r\n    const subReddit = subredditRef.current.value;\r\n    await axios.get(`${process.env.REACT_APP_BASE}/community/exists/${subReddit}`)\r\n    .then(res => {\r\n      if(res.data) {\r\n        var currentPost = {\r\n          user: currentUser.displayName,\r\n          subReddit: subredditRef.current.value,\r\n          title: titleRef.current.value,\r\n          imageURL: imgURL,\r\n          voted: currentUser.uid,\r\n          voteCount: 1,\r\n        }\r\n  \r\n        axios.post(`${process.env.REACT_APP_BASE}/posts/create`, currentPost)\r\n        postSuccessful()\r\n      } else {\r\n        setPromptData('Subreddit not Found')\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div class=\"inputForm inputCreate\">\r\n      <div className=\"formInput\">\r\n        <input ref={titleRef} type=\"text\" placeholder=\"Title\"/>\r\n      </div>\r\n      <div className=\"formInput\">\r\n        <input ref={subredditRef} type=\"text\" placeholder=\"Subreddit\"/>\r\n      </div>\r\n      <label className=\"formUpload\">\r\n        {uploaded ? <img src={imgURL} alt=\"\" /> : <><p>{fileRef}</p><FontAwesomeIcon icon={faCloudUploadAlt}/></>}\r\n        <input ref={uploadRef} onChange={uploadHandler} type=\"file\" className=\"formUploadText\" />\r\n      </label>\r\n      <button onClick={postHandler} className=\"formButton\">Create Post</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePost","import axios from 'axios';\r\nimport React, { useRef } from 'react'\r\nimport { useAuth } from '../../../contexts/AuthContext';\r\n\r\nfunction TextCreate() {\r\n\r\n  const titleRef = useRef();\r\n  const textRef = useRef()\r\n  const subredditRef = useRef()\r\n  const { currentUser } = useAuth()\r\n\r\n  function postHandler() {\r\n    let currentPost = {\r\n      user: currentUser.displayName,\r\n      subReddit: subredditRef.current.value,\r\n      title: titleRef.current.value,\r\n      text: textRef.current.value,\r\n      voted: currentUser.uid,\r\n      voteCount: 1,\r\n    }\r\n    axios.post(`${process.env.REACT_APP_BASE}/posts/create/text`, currentPost)\r\n  }\r\n\r\n  return (\r\n    <div className='inputForm inputCreateLink'>\r\n      <div className=\"formInput\">\r\n        <input type=\"text\" ref={titleRef} placeholder=\"Title\"/>\r\n      </div>\r\n      <div className=\"formInput\">\r\n        <input ref={subredditRef} type=\"text\" placeholder=\"Subreddit\"/>\r\n      </div>\r\n      <div className=\"formTextarea\">\r\n        <textarea type=\"text\" ref={textRef} placeholder=\"Text (optional)\"/>\r\n      </div>\r\n      <button className=\"formButton\" onClick={postHandler}>Create Post</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TextCreate;","import URLPost from './URLPost';\r\nimport ImagePost from './ImagePost';\r\nimport TextCreate from './TextCreate';\r\nimport { Redirect } from 'react-router';\r\nimport React, { useState } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faImage, faCommentAlt, faLink } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction Create() {\r\n\r\n  const [createOption, setCreateOption] = useState('image')\r\n\r\n  function CurrentOption() {\r\n    switch(createOption) {\r\n      case 'image':\r\n        return <ImagePost />\r\n      case 'link':\r\n        return <URLPost />\r\n      case 'post':\r\n        return <TextCreate />\r\n      default:\r\n        return <Redirect to=\"/create/cummunity\"/>\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div class=\"Form Create\">\r\n      <div className=\"CreateNavBar\">\r\n        <button className={`NavBarBtn ${createOption === 'post' ? 'active' : 'inactive'}`} onClick={() => setCreateOption('post')}>\r\n          <FontAwesomeIcon icon={faCommentAlt} className=\"NavBarBtnIcon\" />\r\n          Post\r\n        </button>\r\n        <button className={`NavBarBtn ${createOption === 'image' ? 'active' : 'inactive'}`} onClick={() => setCreateOption('image')}>\r\n          <FontAwesomeIcon icon={faImage} className=\"NavBarBtnIcon\" />\r\n          Image\r\n        </button>\r\n        <button className={`NavBarBtn ${createOption === 'link' ? 'active' : 'inactive'}`} onClick={() => setCreateOption('link')}>\r\n          <FontAwesomeIcon icon={faLink} className=\"NavBarBtnIcon\" />\r\n          Link\r\n        </button>\r\n      </div>\r\n      <div class=\"inputForm\">\r\n        <CurrentOption />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Create;","import '../../firebase'\r\nimport axios from 'axios'\r\nimport 'firebase/storage';\r\nimport firebase from 'firebase'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { useHistory } from 'react-router-dom';\r\nimport React, { useRef, useState } from'react';\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport { faCloudUploadAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nfunction CreateSubreddit() {\r\n  const history = useHistory()\r\n  const { currentUser } = useAuth()\r\n  const uploadRef = useRef()\r\n  const subredditRef = useRef()\r\n  const descriptionRef = useRef()\r\n  const titleRef = useRef()\r\n  \r\n  var [uploaded, setUpload] = useState(false);\r\n  var [imgURL, setImage] = useState();\r\n  var [fileRef, setFileRef] = useState('Drag and drop logo or');\r\n  var filename = `${uuidv4()}.png`\r\n  var storageRef = firebase.storage().ref().child(filename);\r\n\r\n  async function uploadHandler() {\r\n    setFileRef(uploadRef.current.files[0].name)\r\n    await storageRef.put(uploadRef.current.files[0])\r\n    await storageRef.getDownloadURL().then((res) => {\r\n      setImage(res)\r\n      setUpload(true)\r\n    })\r\n  }\r\n\r\n  async function postHandler(e) {\r\n    e.preventDefault()\r\n\r\n    var currentSub = {\r\n      SubredditName: titleRef.current.value,\r\n      SubredditHandle: subredditRef.current.value,\r\n      description: descriptionRef.current.value,\r\n      SubredditPicture: imgURL,\r\n      mod: currentUser.uid\r\n    }\r\n\r\n    await axios.post(`${process.env.REACT_APP_BASE}/community/create`, currentSub)\r\n    .then(history.push('/'))\r\n  }\r\n  return (\r\n    <div class=\"Form Create\">\r\n      <div class=\"inputForm inputCreateSub\">\r\n        <h2>Create Community</h2>\r\n        <div className=\"formInput\">\r\n          <input ref={titleRef} type=\"text\" placeholder=\"Subreddit Name\"/>\r\n        </div>\r\n        <div className=\"formInput\">\r\n          <input ref={subredditRef} type=\"text\" placeholder=\"r/Subreddit\"/>\r\n        </div>\r\n        <div className=\"formTextarea\">\r\n          <textarea ref={descriptionRef} type=\"text\" placeholder=\"Write a brief Description of your Cummunity, feel free to add any rules you want people to follow\"/>\r\n        </div>\r\n        <label className=\"formUpload\">\r\n          {uploaded ? <img src={imgURL} alt=\"\" /> : <><p>{fileRef}</p><FontAwesomeIcon icon={faCloudUploadAlt}/></>}\r\n          <input ref={uploadRef} onChange={uploadHandler} type=\"file\" className=\"formUploadText\" />\r\n        </label>\r\n        <button onClick={postHandler} className=\"formButton\">Create</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateSubreddit;","import React from'react'\r\nimport All from './Elements/All'\r\nimport PostPage from './PostPage'\r\nimport FrontPage from './FrontPage'\r\nimport Login from './Elements/Login'\r\nimport Profile from './Elements/Profile'\r\nimport Register from './Elements/Register'\r\nimport SubReddit from './SubPage/SubReddit'\r\nimport Create from './Elements/Create/Create'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport CreateSubreddit from './Elements/CreateSubreddit'\r\n\r\nfunction Body() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\" component={FrontPage}/>\r\n      <Route exact path=\"/login\" component={Login}/>\r\n      <Route exact path=\"/create/post\" component={Create}/>\r\n      <Route exact path=\"/Register\" component={Register}/>\r\n      <Route exact path=\"/profile\" component={Profile}/>\r\n      <Route exact path=\"/post/:id\" component={PostPage}/>\r\n      <Route exact path=\"/create/cummunity\" component={CreateSubreddit}/>\r\n      <Route exact path=\"/r/:sub\" component={SubReddit}/>\r\n      <Route exact path=\"/all\" component={All}/>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default Body;","import React, { useState } from'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { usePrompt } from '../../contexts/PromptContext';\r\n\r\nfunction Header() {\r\n  const [optionsMenu, setOptionsMenu] = useState(true)\r\n  const { prompt } = usePrompt();\r\n  const { currentUser, logout } = useAuth();\r\n  const history = useHistory();\r\n\r\n  function logoutHandler() {logout();setOptionsMenu(!optionsMenu)}\r\n\r\n  return (\r\n    <>\r\n      <div className=\"Header\">\r\n        <div className=\"headerLeft\" onClick={() => history.push('')}>\r\n          <img width=\"38\" height=\"38\" src=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi0.wp.com%2Fwww.vectorico.com%2Fwp-content%2Fuploads%2F2018%2F08%2FReddit-logo.png%3Fresize%3D300%252C300&f=1&nofb=1\" alt=\"\"/>\r\n          <h5>Reddit 2.0</h5>\r\n        </div>\r\n        <div className=\"headerRight\">\r\n          {currentUser ? <img onClick={() => setOptionsMenu(!optionsMenu)} className=\"profileImage\" src={currentUser.photoURL} alt=\"profile\" /> : <Link to=\"/login\" className=\"loginButton\">Login</Link>}\r\n          {optionsMenu ? <></> : \r\n            <div className=\"optionsHeader\">\r\n              <button className=\"headerButton\" onClick={logoutHandler}>Logout</button>\r\n              <button className=\"headerButton\" onClick={() => history.push('/profile')}>Profile</button>\r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n      {prompt ? <div className=\"prompt\">{prompt}</div> : <></>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Header;","import './firebase'\nimport 'firebase/auth'\nimport React from'react'\nimport './styles/main.scss'\nimport Body from './components/Body'\nimport { BrowserRouter } from 'react-router-dom'\nimport Header from './components/Elements/Header'\nimport { AuthProvider } from './contexts/AuthContext'\nimport { PromptProvider } from './contexts/PromptContext'\n\nfunction App() {\n  return (\n    <PromptProvider>\n      <AuthProvider>\n        <BrowserRouter>\n          <div className=\"App\">\n            <Header />\n            <Body />\n          </div>\n        </BrowserRouter>\n      </AuthProvider>\n    </PromptProvider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}